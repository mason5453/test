/* ===== RESET & BASE STYLES (unchanged) ===== */
* { box-sizing: border-box; outline: 0; margin: 0; padding: 0; }

section       { margin-bottom: 33px; }
section.s4    { margin-bottom: 15px; }

/* ===== PAGE STYLING (your A4 area) ===== */
page {
  display: block;
  width: 19cm;        /* A4 width */
  height: 27.7cm;     /* A4 height */
  padding: 72px;
  background-color: #fff;
  opacity: 0.9;
  position: relative;
  z-index: 2; /* Ensures page is ABOVE background */
  border: 0.5px dotted hsl(0, 0%, 80%);
}

/* Optional: subtle background image inside page */
page::before {
  content: "";
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background-image: url('bg.jpg');
  background-size: cover;
  background-position: center 65%;
  opacity: 0.1;
  z-index: -1; /* Behind page content */
}

/* ===== BEACH BACKGROUND (RIGHT SIDE ONLY) ===== */
body {
  min-height: 100vh;
  background-color: #004; /* fallback */
  position: relative;
  overflow-x: hidden;
}

/* Create beach background ONLY on the right */
body::after {
  content: "";
  position: absolute;
  top: 0;
  right: 0;
  bottom: 0;
  left: 19cm; /* Start AFTER the page width */
  background: linear-gradient(
    to bottom,
    #f5d7a6,   /* light sand */
    #e6c28b,   /* medium sand */
    #d4a97a    /* warm beach tone */
  );
  z-index: 1; /* BELOW the page (which is z-index: 2) */
}

/* ===== YOUR EXISTING STYLES (mostly unchanged) ===== */
fieldset, td          { padding: 11px 22px; }
section.s4 td         { padding: 2px 22px; }
legend                { padding: 0 11px; }
.s2 th:nth-child(1)   { padding: 11px 22px; }

fieldset { animation: float 4s ease-in-out infinite; }

legend {
  font-weight: 700;
  color: #5d4037;
  text-shadow: 
      0px  -8px  12px rgba(  50,120, 250, 1.00),
     40px -14px  27px rgba(  50,210, 210, 0.75),
     80px -16px  28px rgba(  80,200, 200, 0.50),
     80px -18px  32px rgba(  80,200, 200, 0.50),
    100px -17px  32px rgba( 200,200, 200, 0.25),
    120px -13px  32px rgba( 200,200, 200, 0.20),
    130px  -5px  32px rgba( 150,150, 200, 0.11),
    150px   0px  32px rgba( 170,150, 100, 0.21),
    170px   5px  32px rgba( 210,170, 100, 0.31),
    190px  10px  32px rgba( 210,210,  50, 0.41);
}

:is(.s1 fieldset, .s2 tr, .s3 fieldset, .s4 tr, .s5 tr) {
  background-color: transparent;
}
:is(.s1 fieldset:hover, .s2 tr:hover, .s3 fieldset:hover, .s4 tr:hover, .s5 tr:hover) {
  background-color: hsla(200, 80%, 88%, 0.5);
}

fieldset, table, th, td {
  border-radius: 10px;
  border: 2px double hsl(34, 44%, 69%);
}

.s2 th:nth-child(1) { width: 220px; }
.s3 th:nth-child(1) { width: 130px; }
.s5 th:nth-child(1) { width: 130px; }

table { width: 570px; border-collapse: separate; }

footer {
  position: absolute;
  inset: auto auto 72px calc(50% - 22px);
}

legend, th {
  font-weight: 900;
  font-variant: small-caps;
}

.s2 th:nth-child(1) { text-align: left; }
.s3 th:nth-child(1) { text-align: center; }
td:nth-child(1), th:nth-child(1) { text-align: center; }

body { counter-reset: section; }

page footer::before {
  counter-increment: section;
  content: "Page " counter(section) " ";
}

/* ===== CIRCLE & MAP STYLES (unchanged) ===== */
.circle-container {
  display: inline-block;
  position: relative;
  z-index: 2;
  animation: growCircle 2s ease-out forwards;
}

.map-badge {
  position: relative;
  width: 200px;
  height: 200px;
  border-radius: 50%;
  overflow: hidden;
}

.map-badge iframe {
  width: 200px;
  height: 200px;
  border-radius: 50%;
  display: block;
}

.flash-overlay {
  position: absolute;
  top: 0;
  left: 0;
  width: 200px;
  height: 200px;
  border-radius: 50%;
  opacity: 0;
  pointer-events: none;
  animation: flash 4s 1;
  z-index: 1;
}

.map-label {
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  font-family: Arial, sans-serif;
  font-weight: bold;
  font-size: 16px;
  color: #333;
  z-index: 2;
  text-align: center;
  white-space: nowrap;
  animation: flashText 5s 1;
}

.circle-image {
  width: 200px;
  height: 200px;
  border-radius: 50%;
  overflow: hidden;
  position: relative;
}

.circle-image::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background-image: url('lightning.webp');
  background-size: 100%;
  background-position: center;
  background-repeat: no-repeat;
  transform: scale(1.05);
}

/* ===== ANIMATIONS ===== */
@keyframes float {
  0%, 100% { transform: translateY(0); }
  50%      { transform: translateY(-10px); }
}

@keyframes growCircle {
  0%  { transform: scale(0); }
  100%{ transform: scale(1); }
}

@keyframes flash {
  50%, 65%, 85% { opacity: 1; }
  100% { opacity: 0; }
}

@keyframes flashText {
  40%, 55%, 70% { color: #9966ff; }
  100% { color: #000; }
}

/* ===== LINK STYLES ===== */
a {
  color: #0066cc;
  text-decoration: none;
  font-weight: 500;
  transition: all 0.3s ease;
  position: relative;
}

a:hover {
  color: #004499;
  text-decoration: underline;
  text-decoration-thickness: 2px;
  text-underline-offset: 2px;
}

a:active { color: #003377; transform: scale(0.98); }
a:visited { color: #6600cc; }
a:focus {
  outline: 2px solid #0066cc;
  outline-offset: 2px;
  border-radius: 3px;
}